const app_data=JSON.parse(document.getElementById("app").getAttribute("data-page"));
function tryCatch(e){try{e()}catch(e){}}function courseInfo(){var e=document.querySelector("main > .container > .row > div:first-child #overview > nav").cloneNode(!0),t=(document.querySelectorAll("main > .container > .row > div:first-child > div:not(:first-of-type) nav").forEach(e=>e.remove()),document.querySelector("#overview"));t.classList.add("active"),document.querySelector("main > .container > .row > div:first-child").insertBefore(e,t);const r=document.querySelectorAll("main > .container > .row > div:first-child nav .nav-item .nav-link");function n(e){e.preventDefault(),r.forEach(e=>{e.classList.contains("active")&&e.classList.remove("active")}),e.target.classList.add("active");e=e.target.getAttribute("href");document.querySelectorAll("main > .container > .row > div:first-child > div:not(:first-of-type)").forEach(e=>e.classList.remove("active")),document.querySelector(e).classList.add("active")}r.forEach(e=>e.addEventListener("click",n))}function courseContent(){document.querySelectorAll("#chaptersSidebarCollapse .sidebar-collapse-scroll a.m-chapter-item").forEach(e=>{e.querySelector("s")&&e.classList.add("finished")}),document.querySelectorAll("main > div > section:nth-of-type(1) > .container > .row:last-child > div > *").forEach(e=>{e.querySelector(".plyr")?e.setAttribute("data-order","1"):"H2"===e.nodeName?e.setAttribute("data-order","2"):e.classList.contains(".alert-info")?e.setAttribute("data-order","3"):e.querySelector("h2")?e.setAttribute("data-order","4"):e.setAttribute("data-order","5")})}function category(){var e=document.querySelector("main .container > div:first-of-type h1"),t=document.createElement("img"),r=location.pathname.split("/").pop(),e=(t.setAttribute("src",`https://cdn.jsdelivr.net/gh/AbdulazizYas/AFrontend/dist/images/${r}.svg`),t.setAttribute("alt",r),e.parentElement.replaceChild(t,e),document.createElement("a"));e.setAttribute("href","/suggest-course?university="+r),e.setAttribute("target","_blank"),e.setAttribute("class","btn btn-primary btn-suggestCourse"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve"><defs></defs><g style="stroke:none;stroke-width:0;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:none;fill-rule:nonzero;opacity:1" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"><path d="M 45 90 c -4.418 0 -8 -3.582 -8 -8 V 8 c 0 -4.418 3.582 -8 8 -8 c 4.418 0 8 3.582 8 8 v 74 C 53 86.418 49.418 90 45 90 z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:#fff;fill-rule:nonzero;opacity:1" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/><path d="M 82 53 H 8 c -4.418 0 -8 -3.582 -8 -8 c 0 -4.418 3.582 -8 8 -8 h 74 c 4.418 0 8 3.582 8 8 C 90 49.418 86.418 53 82 53 z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:#fff;fill-rule:nonzero;opacity:1" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/></g></svg>',t.parentElement.appendChild(e)}function cards(){var e=document.querySelectorAll(".card.lift");0!==e.length&&e.forEach(e=>{var e=e.querySelectorAll(".card-footer>div:last-child>div button.btn");2===e.length&&((e=e[1]).textContent="تصفح المادة",e.addEventListener("click",e=>{e.target.parentElement.parentElement.parentElement.previousElementSibling.querySelector("a.stretched-link").click()}))})}function addStyle(e,t){var r=document.querySelector("main");void 0===e[t]||r.classList.contains(e[t])||(r.setAttribute("class",""),r.classList.add(e[t]))}function clearOther(e){var t=document.querySelector("main");for(const r in e)t.classList.remove(e[r])}function headerLinks(){var e,t;document.querySelector(".app-layout > header")&&((e=document.querySelectorAll("header nav .navbar-collapse .nav-link")).forEach(e=>{e.classList.remove("active")}),"/"==(t="/"+location.pathname.split("/")[1])?e.item(0).classList.add("active"):"/university"==t||"/categories"==t||"/courses"==t?e.item(1).classList.add("active"):"/account/courses"===location.pathname&&e.item(2).classList.add("active"))}function Footer(){}function auth(){var e,t=document.querySelector(".app-layout > header");t&&(e=document.querySelectorAll("header nav .navbar-collapse .navbar-nav .nav-item"),document.querySelector("body > .popper-container")?(e.forEach(e=>{e.children[0].getAttribute("href").includes("account/courses")&&(e.style.display="block")}),t.classList.add("logged-in")):(e.forEach(e=>{e.children[0].getAttribute("href").includes("account/courses")&&(e.style.display="none")}),t.classList.remove("logged-in")))}function getPageName(e){return e.includes("account")?e.includes("courses")?"userCourses":"account":e.includes("courses")?e.includes("contents")?"contents":"courses":e.includes("categories")?"category":e.startsWith("/@")?"profile":"unknown"}function redirect(e){for(var t in e)t===location.pathname&&(document.body.innerHTML="",location.href="https://arshfa.net"+e[t])}
const redirects={"/courses":"/university","/account/products":"/"};redirect(redirects);
const pagesToObserve={courses:"academy-courses-show",contents:"academy-contents-show",account:"academy-user-account",userCourses:"academy-user-account-courses",category:"academy-categories-show",profile:"profile-page"},observer=new MutationObserver((e,a)=>e.forEach(e=>{if("childList"===e.type||0!==e.addedNodes.length){e=e.addedNodes[0];if(e&&e.querySelector){redirect(redirects);e=getPageName(location.pathname);switch(tryCatch(headerLinks()),tryCatch(addStyle(pagesToObserve,e)),tryCatch(auth()),tryCatch(cards()),"unknown"===e&&tryCatch(clearOther(pagesToObserve)),e){case"courses":courseInfo();break;case"contents":courseContent();break;case"category":category()}}}}));observer.observe(document.body,{subtree:!0,childList:!0});