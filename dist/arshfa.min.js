const app_data=JSON.parse(document.getElementById("app").getAttribute("data-page"));
function tryCatch(e){try{e()}catch(e){}}function courseInfo(){var e=document.querySelector("main > .container > .row > div:first-child #overview > nav").cloneNode(!0),t=(document.querySelectorAll("main > .container > .row > div:first-child > div:not(:first-of-type) nav").forEach(e=>e.remove()),document.querySelector("#overview"));t.classList.add("active"),document.querySelector("main > .container > .row > div:first-child").insertBefore(e,t);const r=document.querySelectorAll("main > .container > .row > div:first-child nav .nav-item .nav-link");function o(e){e.preventDefault(),r.forEach(e=>{e.classList.contains("active")&&e.classList.remove("active")}),e.target.classList.add("active");e=e.target.getAttribute("href");document.querySelectorAll("main > .container > .row > div:first-child > div:not(:first-of-type)").forEach(e=>e.classList.remove("active")),document.querySelector(e).classList.add("active")}r.forEach(e=>e.addEventListener("click",o))}function courseContent(){document.querySelectorAll("#chaptersSidebarCollapse .sidebar-collapse-scroll a.m-chapter-item").forEach(e=>{e.querySelector("s")&&e.classList.add("finished")}),document.querySelectorAll("main > div > section:nth-of-type(1) > .container > .row:last-child > div > *").forEach(e=>{e.querySelector(".plyr")?e.setAttribute("data-order","1"):"H2"===e.nodeName?e.setAttribute("data-order","2"):e.classList.contains(".alert-info")?e.setAttribute("data-order","3"):e.querySelector("h2")?e.setAttribute("data-order","4"):e.setAttribute("data-order","5")})}function category(){var e=document.querySelector("main .container > div:first-of-type h1"),t=document.createElement("img"),r=location.pathname.split("/").pop();t.setAttribute("src",`https://cdn.jsdelivr.net/gh/AbdulazizYas/AFrontend/dist/images/${r}.svg`),t.setAttribute("alt",r),e.parentElement.replaceChild(t,e)}function cards(){var e=document.querySelectorAll(".card.lift");0!==e.length&&e.forEach(e=>{var e=e.querySelectorAll(".card-footer>div:last-child>div button.btn");2===e.length&&((e=e[1]).textContent="تصفح المادة",e.addEventListener("click",e=>{e.target.parentElement.parentElement.parentElement.previousElementSibling.querySelector("a.stretched-link").click()}))})}function addStyle(e,t){var r=document.querySelector("main");void 0===e[t]||r.classList.contains(e[t])||(r.setAttribute("class",""),r.classList.add(e[t]))}function clearOther(e){var t=document.querySelector("main");for(const r in e)t.classList.remove(e[r])}function headerLinks(){var e,t;document.querySelector(".app-layout > header")&&((e=document.querySelectorAll("header nav .navbar-collapse .nav-link")).forEach(e=>{e.classList.remove("active")}),"/"==(t="/"+location.pathname.split("/")[1])?e.item(0).classList.add("active"):"/university"==t||"/categories"==t||"/courses"==t?e.item(1).classList.add("active"):"/account/courses"===location.pathname&&e.item(2).classList.add("active"))}function Footer(){var e,t;document.querySelector("footer .row > div > div:first-of-type").children[0].classList.contains("payment-logo")&&((e=document.querySelector("footer .row > div > div:first-of-type").cloneNode(!0)).style.padding="1rem 0 1.5rem",e.style.flexWrap="wrap",e.style.justifyContent="center",document.querySelector(".app-layout").appendChild(e),document.querySelector("footer .row > div > div:first-of-type").remove(),e=`<svg class="logo" width="154" height="73" viewBox="0 0 154 73" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_51_105)">
    <path
      d="M116.585 7.96962C113.752 3.03503 108.471 0 102.752 0H50.4033L92.6715 72.7665L154 73.0106L116.585 7.96962ZM54.9679 3.22605H102.699C107.915 3.22605 112.726 5.99579 115.313 10.4953L149.425 69.7846L93.5054 69.5617L54.9679 3.22605Z"
      fill="url(#paint0_linear_51_105)" />
    <path
      d="M103.597 0H51.2478C45.5287 0 40.2478 3.04565 37.415 7.96962L0 73L61.3285 72.7559L103.597 0Z"
      fill="white" />
  </g>
  <defs>
    <linearGradient id="paint0_linear_51_105" x1="50.4033" y1="36.5053" x2="154" y2="36.5053"
      gradientUnits="userSpaceOnUse">
      <stop stop-color="white" />
      <stop offset="0.43" stop-color="#4493D0" />
      <stop offset="0.75" stop-color="#5BC3B5" />
    </linearGradient>
    <clipPath id="clip0_51_105">
      <rect width="154" height="73" fill="white" />
    </clipPath>
  </defs>
</svg>
  `,(t=document.querySelector("footer")).innerHTML=t.innerHTML+e.repeat(2))}function auth(){var e,t=document.querySelector(".app-layout > header");t&&(e=document.querySelectorAll("header nav .navbar-collapse .navbar-nav .nav-item"),document.querySelector("body > .popper-container")?(e.forEach(e=>{e.children[0].getAttribute("href").includes("account/courses")&&(e.style.display="block")}),t.classList.add("logged-in")):(e.forEach(e=>{e.children[0].getAttribute("href").includes("account/courses")&&(e.style.display="none")}),t.classList.remove("logged-in")))}function getPageName(e){return e.includes("account")?e.includes("courses")?"userCourses":"account":e.includes("courses")?e.includes("contents")?"contents":"courses":e.includes("categories")?"category":e.startsWith("/@")?"profile":"unknown"}function redirect(e){for(var t in e)t===location.pathname&&(document.body.innerHTML="",location.href="https://arshfa.net"+e[t])}
const redirects={"/courses":"/university","/account/products":"/"};redirect(redirects);
const pagesToObserve={courses:"academy-courses-show",contents:"academy-contents-show",account:"academy-user-account",userCourses:"academy-user-account-courses",category:"academy-categories-show",profile:"profile-page"},observer=new MutationObserver((e,r)=>e.forEach(e=>{if("childList"===e.type||0!==e.addedNodes.length){e=e.addedNodes[0];if(e&&e.querySelector){e=getPageName(location.pathname);switch(redirect(redirects),tryCatch(headerLinks()),tryCatch(addStyle(pagesToObserve,e)),tryCatch(Footer()),tryCatch(auth()),tryCatch(cards()),"unknown"===e&&tryCatch(clearOther(pagesToObserve)),e){case"courses":courseInfo();break;case"contents":courseContent();break;case"category":category()}}}}));observer.observe(document.body,{subtree:!0,childList:!0});