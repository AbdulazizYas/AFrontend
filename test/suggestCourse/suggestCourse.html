<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="suggestCourse.css">
  <title>Suggest Course</title>
</head>
<body>
  <div class="suggestion-container">
    <div class="suggestion-box">
      <div class="suggestion-right">
        <svg width="75" height="698" viewBox="0 0 75 698" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_0_1)">
          <path d="M65.7885 116.614C70.7124 113.763 73.7277 108.471 73.7062 102.751L73.51 50.403L0.902405 92.9436L0.888191 154.273L65.7885 116.614ZM70.3011 54.9796L70.48 102.71C70.4995 107.927 67.7479 112.748 63.2581 115.351L4.09707 149.685L4.11033 93.7654L70.3011 54.9796Z" fill="url(#paint0_linear_0_1)"/>
          <path d="M73.7093 103.596L73.5131 51.2475C73.4917 45.5284 70.4263 40.259 65.4917 37.4446L0.321558 0.273609L0.795492 61.6007L73.7093 103.596Z" fill="white"/>
          </g>
          <g clip-path="url(#clip1_0_1)">
          <path d="M8.10969 218.661C3.18576 221.512 0.17054 226.804 0.191976 232.524L0.388184 284.872L72.9958 242.331L73.01 181.002L8.10969 218.661ZM3.5971 280.295L3.4182 232.565C3.39865 227.348 6.15034 222.527 10.6401 219.924L69.8011 185.59L69.7879 241.51L3.5971 280.295Z" fill="url(#paint1_linear_0_1)"/>
          <path d="M0.188861 231.679L0.385068 284.028C0.406504 289.747 3.47192 295.016 8.40648 297.83L73.5766 335.001L73.1027 273.674L0.188861 231.679Z" fill="white"/>
          </g>
          <g clip-path="url(#clip2_0_1)">
          <path d="M66.1452 478.615C71.0691 475.764 74.0843 470.472 74.0629 464.753L73.8667 412.404L1.25909 454.945L1.24488 516.274L66.1452 478.615ZM70.6578 416.981L70.8367 464.711C70.8562 469.928 68.1045 474.749 63.6148 477.353L4.45376 511.686L4.46702 455.767L70.6578 416.981Z" fill="url(#paint2_linear_0_1)"/>
          <path d="M74.066 465.597L73.8698 413.249C73.8484 407.53 70.783 402.26 65.8484 399.446L0.678248 362.275L1.15218 423.602L74.066 465.597Z" fill="white"/>
          </g>
          <g clip-path="url(#clip3_0_1)">
          <path d="M8.46638 580.662C3.54245 583.513 0.52723 588.806 0.548666 594.525L0.744873 646.873L73.3525 604.333L73.3667 543.004L8.46638 580.662ZM3.95379 642.297L3.77489 594.566C3.75534 589.349 6.50703 584.529 10.9968 581.925L70.1578 547.591L70.1446 603.511L3.95379 642.297Z" fill="url(#paint3_linear_0_1)"/>
          <path d="M0.54555 593.68L0.741757 646.029C0.763193 651.748 3.82861 657.017 8.76317 659.832L73.9333 697.003L73.4594 635.676L0.54555 593.68Z" fill="white"/>
          </g>
          <defs>
          <linearGradient id="paint0_linear_0_1" x1="37.005" y1="50.5398" x2="37.3932" y2="154.136" gradientUnits="userSpaceOnUse">
          <stop stop-color="white"/>
          <stop offset="0.43" stop-color="#4493D0"/>
          <stop offset="0.75" stop-color="#5BC3B5"/>
          </linearGradient>
          <linearGradient id="paint1_linear_0_1" x1="36.8932" y1="284.735" x2="36.505" y2="181.139" gradientUnits="userSpaceOnUse">
          <stop stop-color="white"/>
          <stop offset="0.43" stop-color="#4493D0"/>
          <stop offset="0.75" stop-color="#5BC3B5"/>
          </linearGradient>
          <linearGradient id="paint2_linear_0_1" x1="37.3616" y1="412.541" x2="37.7499" y2="516.137" gradientUnits="userSpaceOnUse">
          <stop stop-color="white"/>
          <stop offset="0.43" stop-color="#4493D0"/>
          <stop offset="0.75" stop-color="#5BC3B5"/>
          </linearGradient>
          <linearGradient id="paint3_linear_0_1" x1="37.2499" y1="646.736" x2="36.8616" y2="543.141" gradientUnits="userSpaceOnUse">
          <stop stop-color="white"/>
          <stop offset="0.43" stop-color="#4493D0"/>
          <stop offset="0.75" stop-color="#5BC3B5"/>
          </linearGradient>
          <clipPath id="clip0_0_1">
          <rect width="154" height="73" fill="white" transform="translate(73.321) rotate(89.7853)"/>
          </clipPath>
          <clipPath id="clip1_0_1">
          <rect width="154" height="73" fill="white" transform="translate(0.577148 335.275) rotate(-90.2147)"/>
          </clipPath>
          <clipPath id="clip2_0_1">
          <rect width="154" height="73" fill="white" transform="translate(73.6777 362.001) rotate(89.7853)"/>
          </clipPath>
          <clipPath id="clip3_0_1">
          <rect width="154" height="73" fill="white" transform="translate(0.933838 697.276) rotate(-90.2147)"/>
          </clipPath>
          </defs>
          </svg>
          
      </div>
      <div class="suggestion-left">
        <h3>اقترح مادة</h3>
        <form id="form">
          <div class="form-element">
            <label for="name">أسم المادة أو اختصارها ؟</label>
            <input type="text" id="name" name="entry.975169254" placeholder="اسم المادة" required>
          </div>
          <div class="form-element">
            <label for="university">الجامعة التي يتم تدريس المادة فيها ؟</label>
            <input type="text" id="university" name="entry.1203211413" placeholder="اسم الجامعة" required>
          </div>
          <div class="form-element">
            <label for="possibleInstructor">(اختياري) اسم أحد ترشحه لشرح المادة؟</label>
            <input onchange="" type="text" id="possibleInstructor" name="entry.372169537" placeholder="اسم المرشح">
          </div>
          <div class="form-element" id="possibleInstructorSocialContainer" style="display:none;">
            <label for="possibleInstructorSocial">ساعدنا بوسيلة للتواصل معه (اختياري)</label>
            <input type="text" id="possibleInstructorSocial" name="entry.2000395388" placeholder="طريقة التواصل أو حساب للمرشح">
          </div>
          <button type="submit">اقترح</button>
        </form>
      </div>
    </div>
    <script>
      // for showing social number of instructor
      document.getElementById("possibleInstructor").addEventListener("keyup",(e) => {
        let value = e.target.value;

        if (value === "") return;

        document.getElementById("possibleInstructorSocialContainer").setAttribute("style", "display:flex;")
      })

      const uni = document.getElementById("university")
      const urlParams = new URLSearchParams(location.search)
      uni.setAttribute("value",urlParams.get("university") || "")

      const form = document.getElementById("form");
      form.addEventListener("submit", e => {
        e.preventDefault();

        let submit = document.querySelector("form#form button[type='submit']")
        submit.setAttribute("disabled", "true");
        submit.textContent = "جاري الإرسال ..";
        submit.style.opacity = ".75"
        submit.style.cursor = "auto"

        const payload = new URLSearchParams(new FormData(form));
        fetch("https://docs.google.com/forms/u/9/d/e/1FAIpQLSdWJQcS861hpEvUS7GSusSRe5cPdavtPpwhLCeH07aLqJifsA/formResponse", {
          method: "POST",
          body: payload
        }).then(res => {
          location.pathname = "/suggestion-sent"
        }).catch(err => {
          console.log(err)
          location.pathname = "/suggestion-sent"
        })
      })
    </script>
  </div> 
</body>
</html>